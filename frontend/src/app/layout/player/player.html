@if (playerStore.currentSong()) {

  <div class="fixed bottom-0 left-0 w-full h-24 bg-black/90 backdrop-blur-xl border-t border-white/10 flex items-center justify-between px-8 relative z-50 animate-in slide-in-from-bottom-5 duration-500">

    <div class="absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>

    <div class="flex items-center gap-4 w-1/4">
      <div class="w-14 h-14 bg-zinc-800 rounded-md border border-white/5 overflow-hidden relative group">
        <div class="absolute inset-0 bg-black/40 hidden group-hover:flex items-center justify-center transition cursor-pointer">
          <i class="ri-expand-up-down-line text-white"></i>
        </div>
        <img [src]="playerStore.currentSong()?.coverUrl | imgUrl" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500" alt="Art">
      </div>

      <div class="flex flex-col gap-0.5 overflow-hidden">
        <span class="text-sm font-bold text-white tracking-wide cursor-pointer hover:text-accent transition-colors truncate">
          {{ playerStore.currentSong()?.title }}
        </span>
        <span class="text-xs text-zinc-500 font-mono truncate hover:text-zinc-300 transition">
          {{ playerStore.currentSong()?.artist }}
        </span>
      </div>
    </div>


    <div class="flex flex-col items-center gap-2 w-2/4">

      <div class="flex items-center gap-6">
        <button class="text-zinc-500 hover:text-white transition active:scale-95"><i class="ri-shuffle-line text-lg"></i></button>
        <button class="text-zinc-300 hover:text-accent transition active:scale-95"><i class="ri-skip-back-fill text-xl"></i></button>

        <button
          (click)="onToggle()"
          class="w-12 h-12 bg-white text-black rounded-xl flex items-center justify-center hover:bg-accent hover:shadow-[0_0_20px_rgba(204,255,0,0.4)] transition-all duration-300 active:scale-90 group"
        >
          @if (playerStore.isPlaying()) {
            <i class="ri-pause-fill text-2xl group-hover:scale-110 transition-transform"></i>
          } @else {
            <i class="ri-play-fill text-2xl ml-1 group-hover:scale-110 transition-transform"></i>
          }
        </button>

        <button class="text-zinc-300 hover:text-accent transition active:scale-95"><i class="ri-skip-forward-fill text-xl"></i></button>
        <button class="text-zinc-500 hover:text-white transition active:scale-95"><i class="ri-repeat-2-line text-lg"></i></button>
      </div>

      <div class="w-full max-w-xl flex items-center gap-3 text-[10px] font-mono text-zinc-500">
        <span>0:00</span> <div class="flex-1 h-[2px] bg-zinc-800 rounded-full cursor-pointer relative group py-2">
        <div class="absolute top-1/2 -translate-y-1/2 w-full h-[2px] bg-zinc-800 rounded-full overflow-hidden">
          <div class="h-full bg-accent shadow-[0_0_10px_var(--color-accent)] relative" [style.width.%]="progressPercent()"></div>
        </div>
        <div class="absolute top-1/2 -translate-y-1/2 -translate-x-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow shadow-black" [style.left.%]="progressPercent()"></div>
      </div>

        <span>--:--</span> </div>

    </div>


    <div class="flex items-center justify-end gap-4 w-1/4">
      <i class="ri-mic-line text-zinc-500 hover:text-white cursor-pointer transition"></i>

      <div class="flex items-center gap-2 group relative">
        <i class="transition-colors"
           [class]="playerStore.volume() === 0 ? 'ri-volume-mute-line text-red-500' : 'ri-volume-up-line text-zinc-400 group-hover:text-accent'">
        </i>

        <div class="w-24 h-1 bg-zinc-800 rounded-full relative">
          <div class="h-full bg-zinc-500 group-hover:bg-accent transition-colors rounded-full"
               [style.width.%]="playerStore.volume() * 100">
          </div>

          <input
            type="range"
            min="0" max="100"
            [value]="playerStore.volume() * 100"
            (input)="onVolumeChange($event)"
            class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
          >
        </div>
      </div>
    </div>

  </div>
}
